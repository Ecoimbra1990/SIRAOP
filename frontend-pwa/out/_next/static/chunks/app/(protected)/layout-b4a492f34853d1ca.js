(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{9036:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},8626:function(e,a,s){Promise.resolve().then(s.bind(s,42))},42:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ProtectedLayout}});var t=s(7437),n=s(2265),r=s(4033),i=s(7179),c=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,c.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),o=(0,c.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),d=(0,c.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),h=(0,c.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),m=(0,c.Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var x=s(9036);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),u=(0,c.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p=(0,c.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),k=[{name:"Dashboard",href:"/dashboard",icon:l},{name:"Ocorr\xeancias",href:"/ocorrencias",icon:o},{name:"Pessoas",href:"/pessoas",icon:d},{name:"Fac\xe7\xf5es",href:"/faccoes",icon:h},{name:"Ve\xedculos",href:"/veiculos",icon:m},{name:"Armas",href:"/armas",icon:x.Z}];function Navbar(){let[e,a]=(0,n.useState)(!1),{user:s,logout:c}=(0,i.L)(),l=(0,r.useRouter)(),o=(0,r.usePathname)(),handleLogout=()=>{c(),l.push("/login")},isActive=e=>o===e||"/dashboard"!==e&&o.startsWith(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-primary-600",children:"SIRAOP"})}),(0,t.jsx)("div",{className:"hidden md:block ml-10",children:(0,t.jsx)("div",{className:"flex items-baseline space-x-4",children:k.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>l.push(e.href),className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(isActive(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,t.jsx)(a,{className:"h-4 w-4 mr-2"}),e.name]},e.name)})})})]}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:null==s?void 0:s.nome_completo}),(0,t.jsxs)("button",{onClick:handleLogout,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)(y,{className:"h-4 w-4 mr-2"}),"Sair"]})]})}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)("button",{onClick:()=>a(!e),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:e?(0,t.jsx)(u,{className:"h-6 w-6"}):(0,t.jsx)(p,{className:"h-6 w-6"})})})]})})}),e&&(0,t.jsx)("div",{className:"md:hidden bg-white border-b border-gray-200",children:(0,t.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[k.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>{l.push(e.href),a(!1)},className:"flex items-center w-full px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(isActive(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-3"}),e.name]},e.name)}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-gray-600",children:null==s?void 0:s.nome_completo}),(0,t.jsxs)("button",{onClick:handleLogout,className:"flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)(y,{className:"h-4 w-4 mr-3"}),"Sair"]})]})]})})]})}function ProtectedLayout(e){let{children:a}=e,{isAuthenticated:s,isLoading:c}=(0,i.L)(),l=(0,r.useRouter)();return((0,n.useEffect)(()=>{c||s||l.push("/login")},[s,c,l]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(Navbar,{}),(0,t.jsx)("main",{className:"pb-20",children:a})]}):null}},7179:function(e,a,s){"use strict";s.d(a,{L:function(){return r}});var t=s(4660),n=s(4810);let r=(0,t.Ue)()((0,n.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:(a,s)=>{e({user:a,token:s,isAuthenticated:!0,isLoading:!1})},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1})},setLoading:a=>{e({isLoading:a})}}),{name:"siraop-auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[811,971,472,744],function(){return e(e.s=8626)}),_N_E=e.O()}]);